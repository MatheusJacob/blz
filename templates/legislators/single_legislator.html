{% extends 'base.html' %}

{% block title %} Single Legislator {% endblock %}




{% block content %}    

    <div class="card mt-5 p-3">
        <div class="row justify-content-center">
            <div class="col-4">
                <img src="{{legislator.image}}" style="width: 18rem;" class="img-fluid rounded" alt="No Image Available" onerror='this.src="{{g.member_default_image_path}}"'>
            </div>
            <div class="col-8">
                <div class="card-body">
                    <div class="row">
                        <div class="col">
                            <h3>
                                {{legislator.first_name}} {{legislator.last_name}}
                            </h3>
                            <h4><small class="text-muted">{{legislator.position.name}} from {{legislator.state.name}}</small></h4>
                            <p class="card-text">Find out more about {{legislator.position.name}} {{legislator.last_name}} here!</p>
                        </div>
                        <div class="social-media col-1">
                            <a href="#">
                                <h1><i class="text-dark fab fa-facebook-square"></i></h1>
                            </a>
                        </div>                        
                        <div class="social-media col-1">
                            <a href="#">
                                <h1><i class="text-dark fab fa-twitter-square"></i></h1>
                            </a>
                        </div>
                        <div class="social-media col-1">
                            <a href="#">
                                <h1><i class="text-dark fab fa-youtube-square"></i></h1>
                            </a>
                        </div>
                    </div>

                    <dl class="row mt-3">
                      <dt class="col-sm-3">Position:</dt>
                      <dd class="col-sm-9">{{legislator.position.name}}</dd>
                    
                      <dt class="col-sm-3">State:</dt>
                      <dd class="col-sm-9">{{legislator.state.name}}</dd>

                      <dt class="col-sm-3">Party:</dt>
                      <dd class="col-sm-9">{{legislator.party.name}}</dd>
                    
                      <dt class="col-sm-3 text-truncate">Most Common Bill Tags:</dt>
                      <dd class="col-sm-9">
                        <p class="btn btn-dark">Constitution</p>
                        <p class="btn btn-dark">Criminal Justice</p>
                        <p class="btn btn-dark">Foreign Policy</p>
                        <p class="btn btn-dark">Economy</p>
                      </dd>
                      <dt class="col-sm-3">Websites:</dt>
                      <dd class="col-sm-3"><a class="btn btn-outline-dark" href='#'><i class="fas fa-external-link-alt"></i> Congress</a></dd>
                      <dd class="col-sm-3"><a class="btn btn-outline-dark" href="#"><i class="fas fa-external-link-alt"></i> State</a></dd>
                      <dd class="col-sm-3"><a class="btn btn-outline-dark" href="#"><i class="fas fa-external-link-alt"></i> Personal</a></dd>

                    </dl>
                    <div>
                      <a href="#" class="btn btn-dark"><i class="fas fa-search"></i> View Sponsored Bills</a>
                    </div>
                    <div class="mt-3">
                        <h4>Sponsored Bills:</h4>
                        {% for bill in sponsored_bills:%}

                            {% include 'bills/sponsored_bill_block.html' %}

                        {% endfor %}
                    </div>
                  </div>
            </div>
        </div>
    </div>

    {% for vote in votes %}

        <ul>
            <li><a href="/bills/{{vote.bill_id}}"></a>{{vote.bill_title}}</li>
            <li class="position">{{vote.response}}</li>
        </ul>

    {% endfor %}

{% endblock %}