{% extends 'base.html' %}

{% block title %} Legislators {% endblock %}



{% block content %}

    <h2 class="text-center mt-5">Legislators </h2>

    <p class="text-center">A place to view Legislators. </p>

    <div class='container'>

        {% if members%}

          {% include 'legislators/legislator_select.html'%}

            {% include 'legislators/member_block_card_version.html'%}
        {% endif %}

    </div>


  <div class="container">
    <!-- Pagination Links-->
    <div id='pagination-links' class="text-right">
      <a href="{{ url_for('view_legislators',chamber=form.chamber.data, state=form.state.data, party=form.party.data, page=members.prev_num) }}"
      class="btn btn-outline-dark 
        {% if members.page == 1 %}disabled{% endif %}">
            &laquo;
        </a>
    <!-- Loop through the number of pages to display a link for each-->
        {% for page_num in members.iter_pages(left_edge=1, right_edge=1, left_current=1, right_current=2) %}
          {% if page_num %}
    <!-- Check for the active page and set the link to "Active"-->
                {% if members.page == page_num %}
                <a href="{{ url_for('view_legislators',chamber=form.chamber.data, state=form.state.data, party=form.party.data, page=page_num) }}"
                class="btn btn-dark">
                    {{ page_num }}
                </a>
                {% else %}
                <a href="{{ url_for('view_legislators',chamber=form.chamber.data, state=form.state.data, party=form.party.data, page=page_num) }}"
                class="btn btn-outline-dark">
                    {{ page_num }}
                </a>
                {% endif %}
            {% else %}
                ...
            {% endif %}
        {% endfor %}
        <a href="{{ url_for('view_legislators',chamber=form.chamber.data, state=form.state.data, party=form.party.data, page=members.next_num) }}"
        class="btn btn-outline-dark 
        {% if members.page == members.pages %}disabled{% endif %}">
            &raquo;
        </a>
    </div>
    <p class="text-right mt-3">
    Showing page {{ members.page }} of {{ members.pages }}
    </p>
    </div>
  </div>
  


  <h3>To Do:</h3>
    <p class="small text-danger font-italic">add session later when api figured out</p>  
  </div>

{% endblock %}

